# **/files** directory structure : #
## This section describes the inner structure of */files* folder. This structure **must be checked** before navigating in the main menu for actions concerning a specific event ##

* **/UID_inputs** : *contains all records generated during an event, these files can be uncomplete in case of scanning interruption*
    * All files contained in this folder should have a name respecting the following format : **DD-MM-AAAA-HH-MM-SS.csv** with time in 24H format, the datetime when the scanning procedure **started**
    * All these files must resepect the following inner structure **(no header, no footer)** : 
        ```
        22/02/2020,12:23:01,451474383598
        22/02/2020,12:24:07,451474383598
        22/02/2020,12:28:54,584188527191
        22/02/2020,12:29:14,584188527191
        22/02/2020,12:29:15,451474383598
        ```
        where all datetimes represents the instant when the student scanned his card, also used as the **sorting key inside this file**

* **/API_outputs** : *contains all the output files generated by the UTBM API from /UID_input ones*
    * All files contained in this folder should have a name respecting the following format : **DD-MM-AAAA-HH-MM-SS.csv** with time in 24H format, the datetime when the scanning procedure **started** (inherited *from UID_input/[datetime].csv*)
    * All these files must resepect the following inner structure **(no header, no footer)**: 
        ```
        80543950692404,login1
        80545467667504,login2
        80570282724004,login3
        80590631151704,login4
        80589686092504,login5
        80589686092504,FAIL
        ```
        where *loginX* is the personnal UTBM login (firstname first letter + full familyname) or is replaced by "**FAIL**" in case of retrieving fail of card UID. **No specific order inside files**

* **/DSI_lists** : *contains the lists of students recorded in SD card by the function **load_students()** of *main.py*, i.e. students that are supposed to be present on future events*
    * All files contained in this folder should have a name respecting the following format : **DD-MM-AAAA-HH-MM-SS.csv** with time in 24H format, the datetime when the DSI file has been **imported** from USB key
        * This name is auto-generated by **load_students()**
    * The active list (which is used for extraction) is the most recent one (= whose name is the max datetime)
    * All these files must resepect the following inner structure (which is the standard one used by UTBM IT-staff, so it cannot be adjusted) **(one header, no footer)** : 
        ```
        NOM,PRENOM,ETUD_NUMERO,NO_INDIVIDU,EMAIL,LOGIN,FORMATION,NIVEAU
        NAME1,Firstname1,2018200489,167498,firstname1.lastname1@utbm.fr,login1,TC,1
        NAME2,Firstname2,2018200447,197574,firstname2.lastname2@utbm.fr,login2,TC,1
        ```
        **No specific order inside files**. Each login must be unique

* **/Final_extractions/[datetime]/absents.csv** : *contains the list of students who didn't scan their cards during the event that happened on [datetime]. We recall that [datetime] must be of the following format : **DD-MM-AAAA-HH-MM-SS.csv** with time in 24H format, the datetime when the scanning procedure **started** (inherited *from UID_input/[datetime].csv*)*  
    * This file must resepect the following inner structure **(one header, no footer)** :  
        ```
        NOM,PRENOM,ETUD_NUMERO,NO_INDIVIDU,MAIL,LOGIN,FORMATION,NIVEAU
        LASTNAME8,Firstname8,2018200485,164859,firstname8.lastname8@utbm.fr,login8,TC,1
        LASTNAME9,Firstname9,2018200758,174830,firstname9.lastname9@utbm.fr,login9,TC,1
        LASTNAME10,Firstname10,2018200428,173840,firstname10.lastname10@utbm.fr,login10,TC,1
        LASTNAME11,Firstname11,2018200426,173836,firstname11.lastname11@utbm.fr,login11,TC,1
        LASTNAME12,Firstname12,2018200465,173949,firstname12.lastname12@utbm.fr,login12,TC,1
        ```
        **Sorted by Lastname (level 1), then firstname (level2)**

* **/Final_extractions/[datetime]/presents.csv** : *contains the list of students who did scan their cards during the event that happened on [datetime].*
    * This file must resepect the following inner structure **(one header, no footer)** :  
        ```
        DATE,HEURE,NOM,PRENOM,ETUD_NUMERO,NO_INDIVIDU,MAIL,LOGIN,FORMATION,NIVEAU
        14/04/2020,12:23:45,LASTNAME1,Firstname1,2018200184,848418,login1,firstname1.lastname1@utbm.fr,TC,1
        14/04/2020,12:23:47,LASTNAME2,Firstname2,2018200145,881487,login2,firstname2.lastname2@utbm.fr,TC,1
        14/04/2020,12:24:01,LASTNAME3,Firstname3,2018200419,345689,login3,firstname3.lastname3@utbm.fr,TC,1
        14/04/2020,12:24:05,LASTNAME4,Firstname4,2018200237,413548,login4,firstname4.lastname4@utbm.fr,TC,1
        14/04/2020,12:25:06,LASTNAME5,Firstname5,2018200794,144856,login5,firstname5.lastname5@utbm.fr,TC,1
        14/04/2020,12:25:11,LASTNAME6,Firstname6,2018200135,456824,login6,firstname6.lastname6@utbm.fr,TC,1
        14/04/2020,12:25:13,LASTNAME7,Firstname7,2018200795,142836,login7,firstname7.lastname7@utbm.fr,TC,1
        ```
        **Sorted by Date (level 1), then Heure (level 2)**

* **/Final_extractions/[datetime]/faux-presents.csv** : *contains the list of students who where not supposed to attend, but did scan their cards during the event that happened on [datetime].*
    * This file must resepect the following inner structure **(one header, no footer)** :  
        ```
        DATE,HEURE,LOGIN
        14/04/2020,12:26:47,login13
        14/04/2020,12:26:47,login14
        14/04/2020,12:26:05,login15
        14/04/2020,12:27:07,login16
        14/04/2020,12:23:01,login17
        14/04/2020,12:28:10,login18
        14/04/2020,12:29:10,login19
        ```
        **Sorted by Date (level 1), then Heure (level 2)**

* **/Final_extractions/[datetime]/total.csv** : *contains the list of all students (presents, absents and faux-presents) concerning the event that happened on [datetime].*
    * This file must resepect the following inner structure **(one header, no footer)** :  
        ```
        DATE,HEURE,NOM,PRENOM,PRESENCE,ETUD_NUMERO,NO_INDIVIDU,MAIL,LOGIN,FORMATION,NIVEAU
        14/04/2020,12:23:45,LASTNAME1,Firstname1,OUI,firstname1.lastname1@utbm.fr,login1,2018200468,452978,TC,1
        14/04/2020,12:23:47,LASTNAME2,Firstname2,OUI,firstname2.lastname2@utbm.fr,login2,2018200468,452978,TC,1
        14/04/2020,12:24:01,LASTNAME3,Firstname3,OUI,firstname3.lastname3@utbm.fr,login3,2018200468,452978,TC,1
        14/04/2020,12:24:05,LASTNAME4,Firstname4,OUI,firstname4.lastname4@utbm.fr,login4,2018200468,452978,TC,1
        14/04/2020,12:25:06,LASTNAME5,Firstname5,OUI,firstname5.lastname5@utbm.fr,login5,2018200468,452978,TC,1
        14/04/2020,12:25:11,LASTNAME6,Firstname6,OUI,firstname6.lastname6@utbm.fr,login6,2018200468,452978,TC,1
        14/04/2020,12:25:13,LASTNAME7,Firstname7,OUI,firstname7.lastname7@utbm.fr,login7,2018200468,452978,TC,1
        /,/,LASTNAME8,Firstname8,NON,firstname8.lastname8@utbm.fr,login8,2018200485,164859,TC,1
        /,/,LASTNAME9,Firstname9,NON,firstname9.lastname9@utbm.fr,login9,2018200758,174830,TC,1
        /,/,LASTNAME10,Firstname10,NON,firstname10.lastname10@utbm.fr,login10,2018200428,173840,TC,1
        /,/,LASTNAME11,Firstname11,NON,firstname11.lastname11@utbm.fr,login11,2018200426,173836,TC,1
        /,/,LASTNAME12,Firstname12,NON,firstname12.lastname12@utbm.fr,login12,2018200465,173949,TC,1
        14/04/2020,12:26:47,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        14/04/2020,12:26:47,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        14/04/2020,12:26:05,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        14/04/2020,12:27:07,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        14/04/2020,12:23:01,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        14/04/2020,12:28:10,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        14/04/2020,12:29:10,/,/,OUI MAIS INATTENDUE,/,/,/,/,/
        ```
        **Specific order inside file : presents, absents, faux-presents (level 1), Date (level 2), Heure (level 3)**

* **/Final_extractions/[datetime]/report.csv** : *contains stats (number and percentages of absents/presents/faux-presents, number of retrieving fails,duration of scan precedure) about the event that happened on [datetime].*
    * This file must resepect the following inner structure **(one header, no footer)** :  
        ```
        Nombre scans	Nombre etudiants attendus	Nombre absents (%Attendus) 	Nombre presents (%Attendus)	Nombre faux-presents (%Scans)	DUREE SCAN	Nombre erreur de requetes API
        8	288	283 (98.26%)	5 (1.74%)	2 (25.00%)	0:00:20	1

        ```